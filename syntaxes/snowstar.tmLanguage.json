{
	"$schema": "https://raw.githubusercontent.com/martinring/tmlanguage/master/tmlanguage.json",
	"name": "Snow*",
	"patterns": [
		{ "include": "#keywords" },
		{ "include": "#strings" },
		{ "include": "#numbers" },
		{ "include": "#comments" },
		{ "include": "#labels" },
		{ "include": "#preprocessor" },
		{ "include": "#punctuation" }
	],
	"repository": {
		"keywords": {
			"patterns": [
				{
					"name": "entity.label.snowstar",
					"match": "(call|jmp|jwe|jwd|jwl|jwg)\\s+(\\w+)",
					"captures": {
						"1": {
							"name": "keyword.control.snowstar"
						},
						"0": {
							"name": "entity.name.function.preprocessor.snowstar"
						}
					}
				},
				{
					"name": "keyword.control.snowstar",
					"match": "\\b(int|sys|back|jmp|call|add|sub|mul|div|mod|rand|push|pop|store|free|cmp|jwe|jwd|jwg|jwl|addf|subf|mulf|divf|randf|and|or|xor|not|itos|ftos)\\b"
				},
				{
					"name": "variable.other.constant.snowstar",
					"match": "\\b(param|mem|temp|nost)\\b"
				}
			]
		},
		"strings": {
			"patterns": [
				{
					"name": "string.quoted.single.snowstar",
					"begin": "'",
					"end": "'",
					"patterns": [
						{
							"name": "constant.character.escape.snowstar",
							"match": "\\\\."
						}
					]	
				}
			]
		},
		"numbers": {
			"patterns": [
				{
					"name": "constant.numeric.integer.snowstar",
					"match": "((-)?\\d+)"					
				},
				{
					"name": "constant.numeric.float.snowstar",
					"match": "((-)?\\d)+(\\.{1}\\d*){1}"
				}
			]
		},
		"comments": {
			"patterns": [
				{
					"name": "comment.line.percentage.snowstar",
					"match": "%(.*)$"
				},
				{
					"name": "comment.block.snowstar",
					"begin": "#\\*",
					"beginCaptures": {
						"0": {
							"name": "punctuation.definition.comment.snowstar"
						}
					},
					"end": "\\*#",
					"endCaptures": {
						"0": {
							"name": "punctuation.definition.comment.snowstar"
						}
					}
				}
			]
		},
		"labels": {
			"patterns": [
				{
					"name": "entity.label.snowstar",
					"match": "(\\w+)(\\:)",
					"captures": {
						"0": {
							"name": "entity.name.function.preprocessor.snowstar"
						},
						"1": {
							"name": "punctuation.separator.label.snowstar"
						}
					}
				}
			]
		},
		"punctuation": {
			"patterns": [
				{
					"name": "punctuation.separator.colon.snowstar",
					"match": ":"
				},
				{
					"name": "punctuation.separator.element.snowstar",
					"match": ","
				}
			]		
		},
		"preprocessor": {
			"patterns": [
				{
					"name": "meta.preprocessor.snowstar",
					"begin": "^\\s*(\\@\\@)\\s*",
					"end": "(?<=$)"
				}
			]
		}
	},
	"scopeName": "source.snowstar"
}